<script>
export default {
  data() {
    return {
      images: [
        { src: "/bot1.jpg", alt: "–§–æ—Ç–æ 1", caption: "" },
        { src: "/bot2.png", alt: "–§–æ—Ç–æ 2", caption: "" },
        { src: "/bot3.jpg", alt: "–§–æ—Ç–æ 3", caption: "" }
      ],
      lightboxVisible: false,
      currentImageIndex: 0,
      carousel: {
        currentIndex: 0,
        touchStartX: 0
      }
    }
  },
  methods: {
    openLightbox(index) {
      this.currentImageIndex = index;
      this.lightboxVisible = true;
      document.body.style.overflow = 'hidden';
    },
    closeLightbox() {
      this.lightboxVisible = false;
      document.body.style.overflow = 'auto';
    },
    nextImage() {
      this.currentImageIndex = (this.currentImageIndex + 1) % this.images.length;
    },
    prevImage() {
      this.currentImageIndex = (this.currentImageIndex - 1 + this.images.length) % this.images.length;
    },
    handleKeydown(e) {
      if (this.lightboxVisible) {
        if (e.key === 'Escape') this.closeLightbox();
        if (e.key === 'ArrowRight') this.nextImage();
        if (e.key === 'ArrowLeft') this.prevImage();
      }
    },
    nextCarousel() {
      this.carousel.currentIndex = (this.carousel.currentIndex + 1) % this.images.length;
    },
    prevCarousel() {
      this.carousel.currentIndex = (this.carousel.currentIndex - 1 + this.images.length) % this.images.length;
    },
    handleTouchStart(e) {
      this.carousel.touchStartX = e.touches[0].clientX;
    },
    handleTouchEnd(e) {
      const touchEndX = e.changedTouches[0].clientX;
      const diff = this.carousel.touchStartX - touchEndX;
      
      if (diff > 50) {
        this.nextCarousel(); // –°–≤–∞–π–ø –≤–ª–µ–≤–æ
      } else if (diff < -50) {
        this.prevCarousel(); // –°–≤–∞–π–ø –≤–ø—Ä–∞–≤–æ
      }
    },
    goToSlide(index) {
      this.carousel.currentIndex = index;
    }
  },
  mounted() {
    window.addEventListener('keydown', this.handleKeydown);
  },
  beforeDestroy() {
    window.removeEventListener('keydown', this.handleKeydown);
  }
}
</script>

<template>
<section id="about" class="main-contact">
  <main class="main__white">
    <div class="container">
      <h1 class="contact_h1">–û–±–æ –º–Ω–µ</h1>

      <div class="practice__upper">
        <p class="upper-p">
          –í —É—Å–ª–æ–≤–∏—è—Ö –≤–µ–¥–µ–Ω–∏—è –±–æ–µ–≤—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π –∑–∞–∫–æ–Ω—ã –º–µ–Ω—è—é—Ç—Å—è, –±—é—Ä–æ–∫—Ä–∞—Ç–∏—è –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω–∞, –∞ —Å–∞–º–∏ –≤–æ–µ–Ω–Ω–æ—Å–ª—É–∂–∞—â–∏–µ –∏ –∏—Ö —Å–µ–º—å–∏ —á–∞—Å—Ç–æ –Ω–µ –∑–Ω–∞—é—Ç, –∫—É–¥–∞ –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∏ –∫–æ–º—É –¥–æ–≤–µ—Ä—è—Ç—å. –ü—Ä–∏–º–µ–Ω—è–µ–º–æ–µ –ø—Ä–∞–≤–æ –≤–µ—Å—å–º–∞ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–æ–µ.
        </p>
        <p class="upper-p">
          –ú–Ω–æ–≥–∏–µ —é—Ä–∏—Å—Ç—ã –Ω–µ —Ö–æ—Ç—è—Ç –±—Ä–∞—Ç—å—Å—è –∑–∞ —Ç–∞–∫–∏–µ –¥–µ–ª–∞ –∏–ª–∏ –¥–∞—é—Ç —Ñ–æ—Ä–º–∞–ª—å–Ω—ã–µ, ¬´–æ—Ç–ø–∏—Å–æ—á–Ω—ã–µ¬ª —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏. –ß—Ç–æ –∂–µ –∑–∞—Å—Ç–∞–≤–∏–ª–æ –º–µ–Ω—è —Å–º–µ–Ω–∏—Ç—å —Ç–µ–ø–ª–æ–µ –º–µ—Å—Ç–æ —à—Ç–∞—Ç–Ω–æ–≥–æ —é—Ä–∏—Å—Ç–∞ –∫–æ–º–ø–∞–Ω–∏–∏ –Ω–∞ –ø—Ä–∞–≤–æ–∑–∞—â–∏—Ç–Ω–∏–∫–∞?
        </p>
        <p class="upper-p">
          –í 2022 –≥–æ–¥—É –º–æ–π –±–ª–∏–∑–∫–∏–π —á–µ–ª–æ–≤–µ–∫ –±—ã–ª –º–æ–±–∏–ª–∏–∑–æ–≤–∞–Ω. –Ø —É–≤–∏–¥–µ–ª–∞, —Å –∫–∞–∫–∏–º–∏ —Ç—Ä—É–¥–Ω–æ—Å—Ç—è–º–∏ —Å—Ç–∞–ª–∫–∏–≤–∞—é—Ç—Å—è –≤–æ–µ–Ω–Ω–æ—Å–ª—É–∂–∞—â–∏–µ –±—É–∫–≤–∞–ª—å–Ω–æ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å, –∏ –Ω–∞—á–∞–ª–∞ –∏—Å–∫–∞—Ç—å —Ä–µ—à–µ–Ω–∏—è. –°–Ω–∞—á–∞–ª–∞ –¥–ª—è —Å–µ–±—è, –ø–æ—Ç–æ–º ‚Äî –¥–ª—è –∑–Ω–∞–∫–æ–º—ã—Ö, –∏ –≤ –∏—Ç–æ–≥–µ –ø—Ä–∏—à–ª–∞ –∫ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç–µ –≤ –∞–¥–≤–æ–∫–∞—Ç—Å–∫–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ. –°–µ–π—á–∞—Å —è –ø–æ–Ω—è–ª–∞, —á—Ç–æ –≥–æ—Ç–æ–≤–∞ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∑–∞–Ω–∏–º–∞—Ç—å—Å—è –∑–∞—â–∏—Ç–æ–π –ø—Ä–∞–≤ –º–æ–±–∏–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –∏ –∏—Ö —Å–µ–º–µ–π.
        </p>
        <p class="upper-p">
          –≠—Ç–∞ —Ä–∞–±–æ—Ç–∞ —Å—Ç–∞–ª–∞ –¥–ª—è –º–µ–Ω—è –¥–µ–ª–æ–º –ø—Ä–∏–Ω—Ü–∏–ø–∞ ‚Äî –∏ —Å–ø–æ—Å–æ–±–æ–º –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞—Ç—å —Å–≤–æ–π –ª–∏—á–Ω—ã–π —Ç—Ä–∞–≤–º–∞—Ç–∏—á–Ω—ã–π –æ–ø—ã—Ç –≤ –ø–æ–ª—å–∑—É —Ç–µ—Ö, –∫—Ç–æ –æ–∫–∞–∑–∞–ª—Å—è –±–µ—Å–ø–æ–º–æ—â–Ω—ã–º –≤ —É—Å–ª–æ–≤–∏—è—Ö –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –≤–æ–µ–Ω–Ω–æ–π —Å–ª—É–∂–±—ã.
            <br>–ü—Ä–∞–≤–∞ –≤–æ–µ–Ω–Ω–æ—Å–ª—É–∂–∞—â–∏—Ö —Ç–æ–∂–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞—â–∏—â–∞—Ç—å!
        </p>
      </div>

      <div class="middle">
        <h2 class="middle-h2">
          –û–±—â–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å üìå –ü–æ–º–∏–º–æ –ø—Ä–∞–∫—Ç–∏–∫–∏, —è —É—á–∞—Å—Ç–≤—É—é –≤ —Ä–∞–±–æ—Ç–µ –Ω–∞ —Å–∏—Å—Ç–µ–º–Ω–æ–º —É—Ä–æ–≤–Ω–µ:
        </h2>
        <div class="middle-text">
          <p class="middle-p">‚Ä¢ –í—ã—Å—Ç—É–ø–∞–ª–∞ –Ω–∞ –∫–æ–Ω–≥—Ä–µ—Å—Å–µ –ê—Å—Å–æ—Ü–∏–∞—Ü–∏–∏ –∫–æ–º–∏—Ç–µ—Ç–æ–≤ —Å–æ–ª–¥–∞—Ç—Å–∫–∏—Ö –º–∞—Ç–µ—Ä–µ–π;</p>
          <p class="middle-p">‚Ä¢ –£—á–∞—Å—Ç–≤–æ–≤–∞–ª–∞ –≤ —Ä–∞–±–æ—á–µ–π –≥—Ä—É–ø–ø–µ –ø—Ä–∏ –ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π –î—É–º–µ –ø–æ –≤–æ–ø—Ä–æ—Å—É –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏—è –º–æ–±–∏–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö;</p>
          <p class="middle-p">‚Ä¢ –ò–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–ª–∞ —Å –∞–∫—Ç–∏–≤–∏—Å—Ç–∞–º–∏ —Å–æ–≤–µ—â–∞–Ω–∏–µ –ø–æ –≤–æ–ø—Ä–æ—Å—É –¥–µ–º–æ–±–∏–ª–∏–∑–∞—Ü–∏–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –º–æ–±–∏–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –≤ –ú–∏–Ω–∏—Å—Ç–µ—Ä—Å—Ç–≤–µ –û–±–æ—Ä–æ–Ω—ã;</p>
          <p class="middle-p">‚Ä¢ –ü—Ä–∏–Ω–∏–º–∞—é —É—á–∞—Å—Ç–∏–µ –≤ –¥–∏–∞–ª–æ–≥–∞—Ö —Å –¥–µ–ø—É—Ç–∞—Ç–∞–º–∏ –∏ –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è–º–∏;</p>
          <p class="middle-p">‚Ä¢ –°–æ–≤–º–µ—Å—Ç–Ω–æ —Å —Å—É–ø—Ä—É–≥–æ–π –º–æ–±–∏–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –∑–∞–ø—É—Å—Ç–∏–ª–∞ –ø–æ–¥–∫–∞—Å—Ç "–ú–æ–±–∏–ª–∏–∑–∞—Ü–∏—è –∏ –õ—é–¥–∏" –≤ —Ü–µ–ª—è—Ö –æ—Å–≤–µ—â–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º –º–æ–±–∏–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö</p>
        </div>

        <div class="bottom">
          <p class="bottom-p">
            –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è –í–∞—Å –º—ã –æ—Ç—Å–Ω—è–ª–∏ –≤—ã–ø—É—Å–∫ "—Ç–æ–ø –≤–æ–ø—Ä–æ—Å–æ–≤ –≤–æ–µ–Ω–Ω–æ–º—É –∞–¥–≤–æ–∫–∞—Ç—É", –≥–¥–µ —Ä–∞–∑–±–∏—Ä–∞–µ–º —Å–∞–º—ã–µ –Ω–∞—Å—É—â–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ —Å—Ç–∞–ª–∫–∏–≤–∞—é—Ç—Å—è –≤–æ–µ–Ω–Ω–æ—Å–ª—É–∂–∞—â–∏–µ: <a class="link" href="https://www.youtube.com/@lifemobilization">—Å—Å—ã–ª–∫–∞</a> 
          </p>
        </div>

        <div class="carousel-container">
          <div 
            class="carousel"
            @touchstart="handleTouchStart"
            @touchend="handleTouchEnd"
          >
            <div 
              class="carousel-inner"
              :style="{ transform: `translateX(-${carousel.currentIndex * 100}%)` }"
            >
              <div 
                v-for="(img, index) in images" 
                :key="index"
                class="carousel-item"
                @click="openLightbox(index)"
              >
                <img 
                  :src="img.src" 
                  :alt="img.alt" 
                  class="carousel-image"
                >
              </div>
            </div>
          </div>
          <div class="carousel-dots">
            <button
              v-for="(img, index) in images"
              :key="index"
              class="carousel-dot"
              :class="{ 'active': carousel.currentIndex === index }"
              @click="goToSlide(index)"
            ></button>
          </div>
        </div>
      </div>
    </div>

    <!-- –õ–∞–π—Ç–±–æ–∫—Å -->
    <div v-if="lightboxVisible" class="lightbox" @click.self="closeLightbox">
      <button class="lightbox-close" @click="closeLightbox">&times;</button>
      <button class="lightbox-nav lightbox-prev" @click.stop="prevImage">&#10094;</button>
      <div class="lightbox-content">
        <img :src="images[currentImageIndex].src" :alt="images[currentImageIndex].alt" class="lightbox-image">
        <div class="lightbox-caption">{{ images[currentImageIndex].caption }}</div>
      </div>
      <button class="lightbox-nav lightbox-next" @click.stop="nextImage">&#10095;</button>
    </div>
  </main>
</section>
</template>

<style lang="css" scoped>
@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&display=swap');

.main__white {
  background: #293834;
  width: 100%;
  padding: 0px;
  box-sizing: border-box;
}

.middle-text {
  background: #8b7b4e;
  padding: 10px;
  border-radius: 15px;
  width: 100% !important;
}

.container {
  display: flex;
  margin: 0 auto;
  max-width: 1400px;
  flex-direction: column;
  justify-content: center;
}

.contact_h1 {
  display: flex;
  justify-content: center;
  margin-top: 80px;
  font-size: 2.5rem;
  text-align: center;
  padding: 0 20px;
  color: white;
}
.link{
    color: #8b7b4e;;
}
.practice__upper {
  max-width: 1000px;
  display: flex;
  justify-content: center;
  flex-direction: column;
  margin: 0 auto;
  padding: 0 10px;
}

.upper-p {
  font-size: 20px;
  color: white;
  margin-bottom: 20px;
  line-height: 30px;
  text-align: justify;
  margin-top: 20px;
}

.middle {
  max-width: 1000px;
  display: flex;
  justify-content: center;
  flex-direction: column;
  margin: 40px auto;
  padding: 0 10px;
}

.middle-h2 {
  font-size: 22px;
  margin-bottom: 20px;
  text-align: center;
  line-height: 30px;
  padding: 0 10px;
  color: white;
}

.middle-p {
  font-size: 20px;
  margin-bottom: 15px;
  line-height: 30px;
  text-align: left;
  color: white;
  padding: 0 10px;
}

.bottom{
    max-width: 100%;
}
.bottom-p {
  font-size: 20px !important;
  margin: 30px 10px;
  line-height: 30px;
  text-align: left;
  color: white;
}

/* –ö–∞—Ä—É—Å–µ–ª—å */
.carousel-container {
  width: 100%;
  max-width: 1000px;
  margin: 60px auto;
  position: relative;
  overflow: hidden;
}

.carousel {
  width: 100%;
  overflow: hidden;
  position: relative;
}

.carousel-inner {
  display: flex;
  transition: transform 0.5s ease;
  width: 100%;
}

.carousel-item {
  min-width: 100%;
  box-sizing: border-box;
  padding: 0 10px;
  display: flex;
  justify-content: center;
}

.carousel-image {
  width: 100%;
  max-width: 700px;
  height: auto;
  object-fit: cover;
  border-radius: 8px;
  cursor: pointer;
  transition: transform 0.3s ease;
}

.carousel-image:hover {
  transform: scale(1.03);
}

.carousel-dots {
  display: flex;
  justify-content: center;
  margin-top: 20px;
}

.carousel-dot {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background: #ccc;
  margin: 0 5px;
  border: none;
  cursor: pointer;
  transition: background 0.3s ease;
}

.carousel-dot.active {
  background: #8b7b4e;
}

/* –õ–∞–π—Ç–±–æ–∫—Å */
.lightbox {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.9);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
  cursor: pointer;
}

.lightbox-content {
  position: relative;
  max-width: 100%;
  max-height: 90%;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.lightbox-image {
  max-width: 100%;
  max-height: 80vh;
  object-fit: contain;
  border-radius: 5px;
}

.lightbox-caption {
  color: white;
  margin-top: 15px;
  font-size: 1rem;
  text-align: center;
  max-width: 80%;
}

.lightbox-close {
  position: absolute;
  top: 20px;
  right: 30px;
  color: white;
  font-size: 2.5rem;
  background: none;
  border: none;
  cursor: pointer;
  padding: 10px;
  z-index: 1001;
}

.lightbox-nav {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  color: white;
  font-size: 2.5rem;
  background: rgba(0,0,0,0.3);
  border: none;
  cursor: pointer;
  padding: 15px;
  z-index: 1001;
  border-radius: 50%;
  width: 60px;
  height: 60px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.lightbox-prev { left: 30px; }
.lightbox-next { right: 30px; }

.lightbox-nav:hover {
  background: rgba(0,0,0,0.6);
}

/* –ê–¥–∞–ø—Ç–∏–≤ */
@media (max-width: 1024px) {
  .contact_h1 { font-size: 2.2rem; margin-top: 60px; }
  .upper-p { font-size: 1rem; }
  .middle-h2 { font-size: 1.3rem; }
  .middle-p, .bottom-p { font-size: 20px; }
  .container { margin: 0 !important; }
}

@media (max-width: 768px) {
  .contact_h1 { font-size: 2rem; margin-top: 50px; }
  .middle { margin: 40px 0px; max-width: 100%; }
  .practice__upper { max-width: 100%; margin: 0 10px; }
  .upper-p { font-size: 0.95rem; }
  .middle-h2 { font-size: 1.2rem; }
  .middle-p, .bottom-p { font-size: 0.9rem; }
  
  .carousel-container { margin: 40px auto; }
  .carousel-image { max-width: 450px; }
  
  .lightbox-nav { width: 50px; height: 50px; font-size: 2rem; }
  .lightbox-close { font-size: 2rem; }
}

@media (max-width: 480px) {
  .contact_h1 { font-size: 1.7rem; margin-top: 40px; }
  .upper-p { font-size: 0.9rem; text-align: left; }
  .middle-h2 { font-size: 1.1rem; text-align: left; }
  .middle-p, .bottom-p { font-size: 0.85rem; text-align: left; padding: 0; max-width: 100%;}
  .bottom-p { text-align: left; padding: 0; max-width: 100%;}
  .bottom{
    max-width: 350px;
  }
  .carousel-image { max-width: 370px; }
  
  .lightbox-nav { width: 40px; height: 40px; font-size: 1.5rem; }
  .lightbox-close { font-size: 1.8rem; top: 15px; right: 15px; }
  .lightbox-caption { font-size: 0.9rem; }
}
</style>